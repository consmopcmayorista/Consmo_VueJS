<script setup>
import { ref, onMounted } from 'vue';
import { LMap, LTileLayer, LPolygon, LTooltip } from '@vue-leaflet/vue-leaflet';
import 'leaflet/dist/leaflet.css';

const mapReadyMedellin = ref(false);
const mapReadyMonteria = ref(false);
const showPricesMedellin = ref(true);
const showPricesMonteria = ref(true);
const isExpandedMedellin = ref(false);
const isExpandedMonteria = ref(false);

const zoomMedellin = ref(11);
const centerMedellin = ref([6.244203, -75.581212]);

const zoomMonteria = ref(12);
const centerMonteria = ref([8.7489, -75.8814]);

const comunasMedellin = ref([
  {
    nombre: "Popular",
    coordenadas: [
      [6.299216736280499, -75.54364001221917],
      [6.2945995078281385, -75.54383211480682],
      [6.289088228517883, -75.54383495073482],
      [6.2828561129964555, -75.544134332102],
      [6.2848509118274904, -75.55340118700735],
      [6.295199630574388, -75.551283919896],
      [6.299229004690446, -75.54892540019148],
      [6.298928622798513, -75.54916677381586]
    ],
    color: "#FF6347",
    precioDomicilio: 11000
  },
  {
    nombre: "Santa Cruz",
    coordenadas: [
      [6.3021989610836044, -75.55624349498348],
      [6.296889637725528, -75.5578823604878],
      [6.2950193494447575, -75.56031024059484],
      [6.286756177301015, -75.56449633070024],
      [6.284910169545341, -75.55370352741133],
      [6.286413799281036, -75.5533399864236],
      [6.2917701805815796, -75.55231162905585],
      [6.295380147520447, -75.55146468543327],
      [6.299169240029897, -75.54910619367301],
      [6.300077626956252, -75.5512774010172],
      [6.302138623559074, -75.55624349567128]
    ],
    color: "#00BFFF",
    precioDomicilio: 11000
  },
  {
    nombre: "Aranjuez",
    coordenadas: [
      [6.28634829170727, -75.56420977620424],
      [6.28421543888274, -75.55113493985381],
      [6.26977867139432, -75.55312329383916],
      [6.269892331447878, -75.55572196040934],
      [6.2725329916510475, -75.56997816130246],
      [6.2757310401330955, -75.56925041134762],
      [6.280196872990203, -75.56827904549677],
      [6.284784019010289, -75.5668224409114],
      [6.286288129282951, -75.56445257460396]
    ],
    color: "#FF7C00",
    precioDomicilio: 11000
  },
  {
    nombre: "Manrique",
    coordenadas: [
      [6.284034687183734, -75.55101458705442],
      [6.283869311870049, -75.55118766738428],
      [6.28216288935333, -75.54455448180514],
      [6.272520797957711, -75.54256321545832],
      [6.261594640225894, -75.54189142216133],
      [6.262670401953287, -75.55486256097899]
    ],
    color: "#FFD700",
    precioDomicilio: 11000
  },
  {
    nombre: "Poblado",
    coordenadas: [
    [6.238785699148664, -75.57655744222679],
    [6.233540019554823, -75.57505588385139],
    [6.2267589413756355, -75.57587101554104],
    [6.221171949531367, -75.5764287372234],
    [6.208249182884273, -75.57848800440665],
    [6.199676446810642, -75.57964634736128],
    [6.195112795684466, -75.58110500406885],
    [6.193150840080662, -75.576471622225],
    [6.18368216927928, -75.57964634564748],
    [6.178307983387754, -75.56004028342986],
    [6.1787771858478635, -75.55407691188387],
    [6.18568683726491, -75.55270405851186],
    [6.188587157868682, -75.54652621833866],
    [6.198311646278071, -75.54674072689211],
    [6.200145630542082, -75.5439950201481],
    [6.203685628643797, -75.54309408512289],
    [6.207780054625829, -75.54438113515876],
    [6.213663210769141, -75.54747832725158],
    [6.216240765602706, -75.55282265501461],
    [6.22086982834513, -75.55837866359893],
    [6.224446857956565, -75.56150066662325],
    [6.226919194186593, -75.56240022805457],
    [6.229654578004727, -75.5664218195872],
    [6.235440887725446, -75.56832679523187],
    [6.238860048745806, -75.57658159650944],
    [6.235756514769122, -75.57573495011538]
  ],
    color: "#00c0ff",
    precioDomicilio: 11000
  },
  {
    nombre: "Candelaria",
    coordenadas: [
    [6.2724913081850815, -75.56989654732519],
    [6.269653709446999, -75.55373662182222],
    [6.262850159358891, -75.55505356132807],
    [6.2601009778136785, -75.55913339699778],
    [6.254908896926111, -75.56108131283274],
    [6.246775312315563, -75.56561163209071],
    [6.239206547979023, -75.56977841077781],
    [6.236927104790823, -75.57054259701933],
    [6.238826088257895, -75.57665517371139],
    [6.248094512220945, -75.57979287805861],
    [6.257977350850979, -75.57451991552144],
    [6.268083853394813, -75.57107986804823],
    [6.272340528133043, -75.56993272650526]
  ],
    color: "#FF1493",
    precioDomicilio: 11000
  },
  {
    nombre: "Villa Hermosa",
    coordenadas: [
    [6.261806332609552, -75.54803701342558],
    [6.258168020118887, -75.54876904253672],
    [6.254737698716198, -75.55038981181127],
    [6.253022477287885, -75.55525279455249],
    [6.250891221564814, -75.55483446092929],
    [6.251359080867573, -75.55180154498319],
    [6.253542011277474, -75.54474360495735],
    [6.2514111442681894, -75.54254806732095],
    [6.246213916957345, -75.5412931025418],
    [6.242991985626105, -75.53988141990229],
    [6.240029437667388, -75.54453344645157],
    [6.243148452204167, -75.55295222600098],
    [6.245955716179921, -75.56053497758953],
    [6.249282765734307, -75.56419567864094],
    [6.255728704539294, -75.56048259968603],
    [6.259991183106408, -75.55922743154677],
    [6.262433970167265, -75.55499156844786],
    [6.261809328128578, -75.54788030221675]
  ],
    color: "#00FF00",
    precioDomicilio: 11000
  },
  {
    nombre: "Buenos Aires",
    coordenadas: [
    [6.248982236260034, -75.56407030145485],
    [6.245766277661332, -75.56077658829793],
    [6.239862503719436, -75.54474323843324],
    [6.236653707070531, -75.5418732138655],
    [6.230771090129906, -75.54341618358944],
    [6.227868981804136, -75.55279827066252],
    [6.2289652494842045, -75.56024054099521],
    [6.227033935173907, -75.56235849527778],
    [6.229648127580717, -75.56648674502915],
    [6.235373910042, -75.56819820622603],
    [6.23671890296778, -75.57067590309256],
    [6.248879087571339, -75.56414195527113]
  ],
    color: "#FF4500",
    precioDomicilio: 11000
  },
  {
    nombre: "Guayabal",
    coordenadas: [
    [6.23688104645602, -75.57692003396359],
    [6.23614019218725, -75.58860892380707],
    [6.234675048830795, -75.59212039907987],
    [6.228670176131274, -75.5914535833037],
    [6.21889387677669, -75.59366948528552],
    [6.216651742172573, -75.59533652269037],
    [6.213863677765644, -75.59623868532957],
    [6.215091987681873, -75.59927858117831],
    [6.2108873149604875, -75.60216299559978],
    [6.204198687993198, -75.6015083720428],
    [6.201442491506796, -75.59540230329512],
    [6.196680158926341, -75.59540322410342],
    [6.190835272219601, -75.5986693131486],
    [6.191525740417717, -75.59211386337888],
    [6.187100450974086, -75.5859214117653],
    [6.1888318760555165, -75.58379304077414],
    [6.196719899788775, -75.5814637880259],
    [6.20480472703882, -75.57952639807594],
    [6.2311068754042935, -75.57573408760541],
    [6.234524929686842, -75.57613315975183],
    [6.236873293291993, -75.57692407549304]
  ],
    color: "#9932CC",
    precioDomicilio: 11000
  },
  {
    nombre: "Belen",
    coordenadas: [
    [6.236888508249194, -75.57731905910444],
    [6.2364295016695905, -75.58577222051827],
    [6.236166323079871, -75.58861408371524],
    [6.234721119349786, -75.59211606106359],
    [6.228682275285408, -75.59152199474687],
    [6.224153475565672, -75.5925125022403],
    [6.219001658193804, -75.59365438599484],
    [6.21664889855937, -75.59536379142506],
    [6.2139039897484025, -75.59628403242786],
    [6.215149379294118, -75.59937140822495],
    [6.21090749997515, -75.60212749502313],
    [6.210786778248192, -75.60579611863416],
    [6.217115957636423, -75.60599773340566],
    [6.219796260293265, -75.60500102253846],
    [6.221231975105681, -75.60978796762662],
    [6.225014724850936, -75.60801254528282],
    [6.226645980581111, -75.60716591799354],
    [6.22899267320868, -75.60939083989716],
    [6.231138714440561, -75.61547141914508],
    [6.234529232722949, -75.61632907663162],
    [6.236684147989294, -75.6129929025228],
    [6.237406700725771, -75.60965578790247],
    [6.2387987135844725, -75.60383610363965],
    [6.240376995487608, -75.59740105272951],
    [6.241944723586315, -75.59707200452695],
    [6.239144244098483, -75.58977346601887],
    [6.23967172879118, -75.57792804391077],
    [6.236726452240461, -75.57681103526102]
  ],
    color: "#20B2AA",
    precioDomicilio: 11000
  },
  {
    nombre: "San Javier",
    coordenadas: [
    [6.264290284953972, -75.6033602912586],
    [6.259543596883901, -75.60525113368966],
    [6.257791452802806, -75.60457812197727],
    [6.257759595583366, -75.60499474827574],
    [6.254860580479161, -75.60704583159054],
    [6.253076563193119, -75.61085956463029],
    [6.251324397433976, -75.61226968441025],
    [6.249667810268065, -75.6119812551536],
    [6.247342192014244, -75.6141605311762],
    [6.245367001271632, -75.61528221736464],
    [6.244411261140513, -75.61563474730964],
    [6.2435192354442535, -75.61845498686789],
    [6.243678525858272, -75.62226871990765],
    [6.245730153320608, -75.62584527334978],
    [6.246857571181309, -75.63039456545891],
    [6.2505937023861975, -75.6311757980263],
    [6.2517207580939385, -75.62964034455094],
    [6.255319261199546, -75.63132529121128],
    [6.2559609099383096, -75.6292146312573],
    [6.258148256663688, -75.6314824345485],
    [6.260481009208689, -75.62963765467059],
    [6.265694784389382, -75.62025116945985],
    [6.269497730242591, -75.61330451779645],
    [6.265346676337984, -75.60942683856157],
    [6.265920332811845, -75.60689828162093],
    [6.26535790095933, -75.60401241495464],
    [6.2639378683794575, -75.60336428451816],
    [6.259628049826759, -75.60531296420058]
  ],
    color: "#FF6347",
    precioDomicilio: 11000
  },
  {
    nombre: "Robledo",
    coordenadas: [
    [6.295928003095241, -75.58456907431702],
    [6.290777968066422, -75.58655216171469],
    [6.28914698826631, -75.58837734965691],
    [6.292556800089059, -75.59317872891465],
    [6.292548330712123, -75.59649041497389],
    [6.290950555653254, -75.5967632218103],
    [6.288009987680951, -75.59731060810181],
    [6.284239185074156, -75.59570374350355],
    [6.28252137736267, -75.59444202563583],
    [6.279454859470491, -75.5978839736327],
    [6.276095892580429, -75.60007225637237],
    [6.274004030509346, -75.598080767724],
    [6.271530480552329, -75.59390163759508],
    [6.264079821021426, -75.58661095553627],
    [6.25990345356297, -75.58177380119719],
    [6.258899647774683, -75.57720562028763],
    [6.260163818740963, -75.5739100253075],
    [6.263977419406643, -75.5728107267965],
    [6.268883591859833, -75.57171928235707],
    [6.273153255924015, -75.5704335730946],
    [6.275607208240686, -75.56988242814828],
    [6.275967626272319, -75.57263182894285],
    [6.280381191334769, -75.57859846968134],
    [6.291397611901772, -75.5737875715252],
    [6.296124828754898, -75.58445926921856]
  ],
    color: "#7FFF00",
    precioDomicilio: 11000
  },
  {
    nombre: "La America",
    coordenadas: [
    [6.2576266886165115, -75.60487332629272],
    [6.254782514867898, -75.60695405826118],
    [6.2531464454278165, -75.61058819926993],
    [6.251341125017859, -75.61231268842577],
    [6.2497085174629206, -75.61187657285768],
    [6.247392904476229, -75.61411630986193],
    [6.245337288697868, -75.61531787837842],
    [6.24387861417884, -75.61436677222946],
    [6.243337739897541, -75.60720773397162],
    [6.23947235407536, -75.60919593946424],
    [6.23808674675314, -75.60781422181778],
    [6.239267955414647, -75.60123170875912],
    [6.240381433132541, -75.59741377270161],
    [6.242193550955719, -75.59706734508484],
    [6.257626614768668, -75.60478664352229]
  ],
    color: "#191919",
    precioDomicilio: 11000
  },
  {
    nombre: "Laureles",
    coordenadas: [
    [6.274902625143241, -75.59959513520681],
    [6.265100820060667, -75.60291876645519],
    [6.259549411547894, -75.60526206659065],
    [6.250472038658515, -75.60133544697644],
    [6.241832595536877, -75.59680581727365],
    [6.238975183188046, -75.58955383030813],
    [6.239501673157946, -75.58169589705705],
    [6.239574239510418, -75.5776832040159],
    [6.248368451624458, -75.5801719580187],
    [6.259423809875216, -75.57457050397242],
    [6.258963680716818, -75.57714717727686],
    [6.259715506556617, -75.58206560221731],
    [6.2628815149314505, -75.5853429798306],
    [6.266760881659351, -75.58923778679092],
    [6.2713607999649525, -75.59377513523577],
    [6.2740387289327515, -75.59822225290576],
    [6.275268774304962, -75.59935658985438],
    [6.274820320600128, -75.59958861332143]
  ],
    color: "#000b74",
    precioDomicilio: 11000
  },
  {
    nombre: "Doce de Octubre",
    coordenadas: [
    [6.291315223176525, -75.57392066026344],
    [6.296029476007277, -75.5844241861424],
    [6.305879743233035, -75.58067514645202],
    [6.312642908069662, -75.57708420190474],
    [6.313295107449704, -75.57436531688452],
    [6.313314722957983, -75.57218663790866],
    [6.313138297380036, -75.56948218781076],
    [6.312426462728041, -75.56660435269177],
    [6.310972533827368, -75.56502722363405],
    [6.308498872068611, -75.56689042373313],
    [6.301292511889372, -75.56974715610521],
    [6.292802566046433, -75.57275218818427],
    [6.290973850696233, -75.5737579986452]
  ],
    color: "#4169E1",
    precioDomicilio: 11000
  },
  {
    nombre: "Castilla",
    coordenadas: [
    [6.308723755665042, -75.558205932429],
    [6.310901798892388, -75.56567531782652],
    [6.304409533265741, -75.56869042662403],
    [6.2972766784653516, -75.571315716097],
    [6.291848249607995, -75.57367197617843],
    [6.2863132662776025, -75.57575570543555],
    [6.280163981581239, -75.57857636776274],
    [6.275867087898391, -75.57299883905617],
    [6.275496473282573, -75.57007180602166],
    [6.2911091768880425, -75.56552841421042],
    [6.2975454751527025, -75.56096768345787],
    [6.304175012703993, -75.55775558753483],
    [6.3087015661104715, -75.55773887209781]
  ],
  color: "#A52A2A",
    precioDomicilio: 11000
  },
  {
  "nombre": "Bello",
  "coordenadas": [
    [6.3007661257639, -75.55323162132652],
    [6.30274302890389, -75.5577738587031],
    [6.30457415104334, -75.55768615482963],
    [6.308670328503709, -75.55759667764207],
    [6.3110339062669, -75.56495292292682],
    [6.3129442503142315, -75.5666097080258],
    [6.313982482469285, -75.57103573049264],
    [6.3180685896516025, -75.56678861079322],
    [6.322774526941757, -75.56592197669835],
    [6.327407178343137, -75.57357005339324],
    [6.332938726548079, -75.56716284643193],
    [6.334763919858034, -75.56890864150479],
    [6.336065078358345, -75.5720534063449],
    [6.342700650139761, -75.57216351481482],
    [6.347698062993089, -75.57527062474092],
    [6.349537299292976, -75.57300772263768],
    [6.3574910001409535, -75.57000102775746],
    [6.356380825941272, -75.56618574148787],
    [6.353558460727115, -75.56498856615903],
    [6.352592726560417, -75.56018925378109],
    [6.351280828133724, -75.55470640748855],
    [6.3500772623174555, -75.55061373539347],
    [6.348363177523851, -75.54536051024786],
    [6.3461150852752155, -75.53956983467623],
    [6.343162595978356, -75.53840209856367],
    [6.340027675153451, -75.53645714958591],
    [6.33610613459993, -75.5313661556847],
    [6.331799641023608, -75.52852282704238],
    [6.3278381323444535, -75.53066753674817],
    [6.326106067444968, -75.53423656177884],
    [6.325579560107059, -75.53832163004714],
    [6.324121002860835, -75.54242770531421],
    [6.322516231847658, -75.54623196217604],
    [6.319732739478368, -75.5476249130358],
    [6.316953451746542, -75.54806375663178],
    [6.3142183889144405, -75.54842354791323],
    [6.311891338628229, -75.54971123419452],
    [6.3090212955458185, -75.5500624213625],
    [6.306345161668901, -75.55045263020457],
    [6.305259189669741, -75.54885277755166],
    [6.3032423784946445, -75.5493600479049],
    [6.301341914634023, -75.55060871338988],
    [6.299945651036126, -75.55127206692895],
    [6.300760138591286, -75.55314506515614],
    [6.301186774419975, -75.55412058506631]
  ],
  "color": "#00FFE8",
  "precioDomicilio": 11000
},
{
  "nombre": "Envigado",
  "coordenadas": [
    [6.195293351192078, -75.58116200734648],
    [6.188312839362027, -75.58337487250003],
    [6.1845875726475725, -75.58769841301083],
    [6.179142862071885, -75.59144429715936],
    [6.175324648352344, -75.5948991580949],
    [6.171605099959791, -75.59988642239205],
    [6.168459228022883, -75.60544791225564],
    [6.167793829080836, -75.60755450703901],
    [6.16122654353029, -75.6039932044316],
    [6.159056437006157, -75.60139016590935],
    [6.153740605471924, -75.59551531626444],
    [6.149367767754299, -75.59035171323761],
    [6.146435987577092, -75.58455549500988],
    [6.147884355680958, -75.57779428990766],
    [6.153319408255172, -75.5685432604749],
    [6.159072461053242, -75.56178099226901],
    [6.167508588064251, -75.5559285845612],
    [6.171473623782219, -75.55002610258538],
    [6.175332702518844, -75.54698072497695],
    [6.177909930985862, -75.54404405615948],
    [6.179112835018358, -75.54311496323261],
    [6.187770389640832, -75.54682438620428],
    [6.188444316015975, -75.54657830152576],
    [6.185522418297552, -75.55278232170319],
    [6.178678243790472, -75.55404119045255],
    [6.178215880713466, -75.55976166297663],
    [6.183631527949473, -75.579579046828],
    [6.193062261166574, -75.57657026394398],
    [6.194924088628994, -75.58122628232493]
  ],
  "color": "#CB0CF1",
  "precioDomicilio": 11000
},
{
  "nombre": "Sabaneta",
  "coordenadas": [
    [6.167655118734331, -75.60744982700692],
    [6.162443726598582, -75.61426596176472],
    [6.158865570639165, -75.61918598824263],
    [6.155853629714926, -75.62069757889954],
    [6.151588982646501, -75.62712863650313],
    [6.151463702897601, -75.6319768808514],
    [6.147205944793612, -75.63050469136878],
    [6.139630550870677, -75.63226498272186],
    [6.134906207432721, -75.62957845108713],
    [6.145572560400112, -75.62529087862131],
    [6.142198205957442, -75.62451834447884],
    [6.134950272861317, -75.6210444998576],
    [6.1339615264699745, -75.61072522308184],
    [6.13568310826993, -75.60099663264893],
    [6.144227449130554, -75.5996139543172],
    [6.14915608897509, -75.59044665772997],
    [6.161189983567226, -75.6041679101772],
    [6.167655118734331, -75.60744982700692]
  ],
  "color": "#32CD32", 
  "precioDomicilio": 11000
},
{
  "nombre": "Itagüí",
  "coordenadas": [
    [6.187216907362327, -75.58593768469441],
    [6.191345645140601, -75.59191806024612],
    [6.190652574944764, -75.59852632358228],
    [6.1899993454008495, -75.60668792535348],
    [6.184872461375633, -75.61408680918304],
    [6.179746014446209, -75.61410141113161],
    [6.175933629223422, -75.6151161695304],
    [6.172823814262031, -75.62020793549712],
    [6.166297092356558, -75.62685141654059],
    [6.159340583963967, -75.62853221012978],
    [6.154856242496351, -75.62809456975819],
    [6.155753736866558, -75.62426236847583],
    [6.169483380379461, -75.60517518290641],
    [6.175912820978283, -75.59599666283114],
    [6.179638964315288, -75.59191149955598],
    [6.184267954742438, -75.5888445986027],
    [6.187216907362327, -75.58593768469441]
  ],
  "color": "#fee300", 
  "precioDomicilio": 11000
},
{
  "nombre": "La Estrella",
  "coordenadas": [
    [6.16958156857433, -75.62412660093273],
    [6.174060844999431, -75.63268761472025],
    [6.1738250369936765, -75.63784178468137],
    [6.169893595723195, -75.64691586458707],
    [6.166890219993206, -75.64800715012014],
    [6.161323211710538, -75.64469739682515],
    [6.153992660375891, -75.64835490489257],
    [6.149952293767427, -75.6450550496999],
    [6.143573049227754, -75.6386886532375],
    [6.141324639447362, -75.6317395738178],
    [6.1473099318858, -75.63041498236898],
    [6.152084642702803, -75.6319066066832],
    [6.151959239653166, -75.62807853917188],
    [6.155335018309728, -75.6280727786772],
    [6.159602071176224, -75.62829319409673],
    [6.1665516445285675, -75.62671919799074],
    [6.16958156857433, -75.62412660093273]
  ],
  "color": "#FF6347", 
  "precioDomicilio": 11000
},
{
  "nombre": "San Antonio de Prado",
  "coordenadas": [
    [6.187369642880711, -75.64720157528795],
    [6.19044338671786, -75.65694261058822],
    [6.186433824014401, -75.66311101993954],
    [6.179959620633298, -75.66576013375489],
    [6.1730618690157115, -75.66212750546173],
    [6.172252664545269, -75.65405988888521],
    [6.1733378899088365, -75.64635774791908],
    [6.1793594547900454, -75.63754786982727],
    [6.184284081047977, -75.64018317919097],
    [6.187369642880711, -75.64720157528795]
  ],
  "color": "#FFD700", 
  "precioDomicilio": 13000
},
{
  "nombre": "San Cristóbal",
  "coordenadas": [
    [6.2753663992415625, -75.62132620725924],
    [6.28428135026175, -75.62379263514906],
    [6.284470235231808, -75.63644613452557],
    [6.282866741981678, -75.64398374212797],
    [6.278282188898373, -75.64851022259523],
    [6.273187995943047, -75.64825355215864],
    [6.270424442320632, -75.64363700043224],
    [6.267857424883033, -75.63208851697229],
    [6.268639645365539, -75.62766256424655],
    [6.273619502690053, -75.62231338611403],
    [6.2753663992415625, -75.62132620725924]
  ],
  "color": "#4c9cff", 
  "precioDomicilio": 13000
}

]);

const comunasMonteria = ref([
  // Agrega aquí los datos de las comunas de Montería
  // Por ejemplo:
  {
  "nombre": "Polígono 1",
  "coordenadas": [
    [8.771326997410753, -75.87617080593859],
    [8.76938199162079, -75.87406464968889],
    [8.768743750897485, -75.87228872960813],
    [8.769647925415583, -75.87051279248531],
    [8.771669017749147, -75.87045896023945],
    [8.775657991293087, -75.87175054402404],
    [8.782306174427362, -75.87417228900985],
    [8.783848586592342, -75.88009198879244],
    [8.782731684686183, -75.88800298209503],
    [8.773328826901036, -75.89918186817371],
    [8.766840024001695, -75.90644703907458],
    [8.755138603486245, -75.9171564728226],
    [8.749926031367082, -75.91500382246863],
    [8.744181486934849, -75.91059088817934],
    [8.744053187103574, -75.90598733881052],
    [8.747792734656201, -75.90422863842524],
    [8.750001815810137, -75.90201709979338],
    [8.750094828627653, -75.89959381606347],
    [8.749327472186053, -75.89717053233419],
    [8.748350834428507, -75.89486488373659],
    [8.748234567807089, -75.892959194566],
    [8.749046916472835, -75.89270585733529],
    [8.753092923194771, -75.8924932743496],
    [8.755355436363033, -75.89174752949326],
    [8.758138129867234, -75.88967512396543],
    [8.759241670139602, -75.88808013217316],
    [8.765862311521474, -75.88483706496442],
    [8.768279292494398, -75.88372065374192],
    [8.771747241177565, -75.88223192950859],
    [8.77258799837361, -75.8809559003696],
    [8.77248301513869, -75.87776576999686],
    [8.771326997410753, -75.87617080593859]
  ],
  "color": "#4c9cff", 
  "precioDomicilio": 7000
},
{
  "nombre": "Polígono 2",
  "coordenadas": [
    [8.760088649820503, -75.86772006106969],
    [8.757347072490688, -75.87185105232912],
    [8.754897369420846, -75.8691956814063],
    [8.749239165488632, -75.8686644986648],
    [8.746439576003624, -75.87273631635433],
    [8.742706496754465, -75.8748608468052],
    [8.743464868054659, -75.87067066338572],
    [8.738097748769917, -75.85467708259795],
    [8.748131018362415, -75.85396900852483],
    [8.75390571715063, -75.85591661526713],
    [8.754780665673735, -75.85697889254885],
    [8.760088649820503, -75.86772006106969]
  ],
  "color": "#FFCB00", 
  "precioDomicilio": 6000
},
{
  "nombre": "Polígono 3",
  "coordenadas": [
    [8.7669243019254, -75.87230981215167],
    [8.764357846738818, -75.87171963175734],
    [8.760332811299861, -75.86764751819382],
    [8.75473284883843, -75.85696473488834],
    [8.7669243019254, -75.85224252690914],
    [8.776082608343387, -75.84816987593832],
    [8.778299266387876, -75.84628128412442],
    [8.790198833660455, -75.84870106528948],
    [8.795798164188156, -75.86198142334133],
    [8.789265027548169, -75.86634876375588],
    [8.785007301772538, -75.87189692271836],
    [8.782207592003104, -75.87278169092015],
    [8.777833066992287, -75.87095220049319],
    [8.772875140370502, -75.86918170437833],
    [8.769032260128611, -75.8693724453751],
    [8.76734078061277, -75.87031665067809],
    [8.7669243019254, -75.87230981215167]
  ],
  "color": "#9929ea",
  "precioDomicilio": 6000
},
{
  "nombre": "Polígono 4",
  "coordenadas": [
    [8.735883040252574, -75.88369357524363],
    [8.73593558476459, -75.88215243996173],
    [8.73178601727139, -75.87811357198832],
    [8.728529336753638, -75.87630670801171],
    [8.72149039778229, -75.87667853986501],
    [8.71933662928781, -75.87503103390488],
    [8.719073912773908, -75.86945082048348],
    [8.726375639557517, -75.85876912637704],
    [8.734622513924421, -75.85212638477161],
    [8.738141809550157, -75.85520875603034],
    [8.739822603954337, -75.85892887117585],
    [8.741976079485696, -75.86647518828028],
    [8.743341537920472, -75.87072652782737],
    [8.742606265725541, -75.87503103584233],
    [8.740452790250657, -75.87598762412374],
    [8.737353830178492, -75.87970763503179],
    [8.735883040252574, -75.88369357524363]
  ],
  "color": "#cdfb00",
  "precioDomicilio": 7000
},
{
  "nombre": "Polígono 5",
  "coordenadas": [
    [8.747806861221193, -75.90152208272933],
    [8.746493169402484, -75.90364904630952],
    [8.741413783672641, -75.90169992244869],
    [8.736247602464601, -75.91055872007485],
    [8.73870530388534, -75.91729418168563],
    [8.735902451627652, -75.92083758905038],
    [8.728020241650967, -75.922517537434],
    [8.723646842988828, -75.921155559111],
    [8.722772579517866, -75.90823005337266],
    [8.721976241875552, -75.89079969860468],
    [8.71426699924649, -75.88964792825462],
    [8.715405078830486, -75.88388731257949],
    [8.717419924290311, -75.88105121405039],
    [8.7214496748243, -75.87670844030967],
    [8.728370352284813, -75.87617778413103],
    [8.73152349813391, -75.87812793066091],
    [8.73581502794535, -75.88229279324035],
    [8.735376052258786, -75.88867235863059],
    [8.740806166386406, -75.89691259695257],
    [8.747806861221193, -75.90152208272933]
  ],
  "color": "#00fb63",
  "precioDomicilio": 7000
},
{
  "nombre": "Polígono 6",
  "coordenadas": [
    [8.760242829193373, -75.86776337585266],
    [8.76426936051027, -75.87175194475846],
    [8.766896136232859, -75.8725493595024],
    [8.771012333803299, -75.87813102023483],
    [8.7699617694945, -75.88185231733507],
    [8.764356792365561, -75.88273800214182],
    [8.760065977670891, -75.88566142505962],
    [8.75297355403211, -75.89026944656335],
    [8.747019262418561, -75.89248307822726],
    [8.745530960348333, -75.894342858157],
    [8.747982187165377, -75.89886311901142],
    [8.748069556721205, -75.90161079547482],
    [8.740625878853223, -75.89664899660498],
    [8.73651073308109, -75.89044610629301],
    [8.735548097214718, -75.88858511529665],
    [8.735459400569084, -75.88477605738944],
    [8.737471752413029, -75.87990337096616],
    [8.740537539161608, -75.87618172567916],
    [8.743953723989137, -75.8742325445196],
    [8.746581073635241, -75.87272645175159],
    [8.749207325192813, -75.86864880700203],
    [8.754725509875172, -75.86909168400194],
    [8.757352388829062, -75.87183991516002],
    [8.760242829193373, -75.86776337585266]
  ],
  "color": "#3100fb",
  "precioDomicilio": 5000
},



  // ... Agrega más comunas de Montería aquí
]);

onMounted(() => {
  mapReadyMedellin.value = true;
  mapReadyMonteria.value = true;
});

const togglePricesMedellin = () => {
  showPricesMedellin.value = !showPricesMedellin.value;
};

const togglePricesMonteria = () => {
  showPricesMonteria.value = !showPricesMonteria.value;
};

const toggleExpandMedellin = () => {
  isExpandedMedellin.value = !isExpandedMedellin.value;
};

const toggleExpandMonteria = () => {
  isExpandedMonteria.value = !isExpandedMonteria.value;
};
</script>

<template>
  <div class="container mt-5">
    <h1 class="text-center mb-4">Mapas de Envíos</h1>
    <p class="text-center mb-5">
      Si su lugar de residencia está fuera de los polígonos establecidos, al momento de hacer su compra, 
      un asesor se contactará con usted inmediatamente para brindarle asesoría sobre los envíos.
    </p>
    
    <div class="row">
      <div class="col-md-6 mb-4">
        <div class="card">
          <div class="card-header bg-primary text-white">
            <h5 class="mb-0">Envíos Medellín y sus alrededores</h5>
          </div>
          <div class="card-body">
            <div class="map-container" :class="{ 'expanded': isExpandedMedellin }">
              <div class="map-controls mb-2">
                <button class="btn btn-sm btn-outline-primary mr-2" @click="togglePricesMedellin">
                  {{ showPricesMedellin ? 'Ocultar precios' : 'Mostrar precios' }}
                </button>
                <button class="btn btn-sm btn-outline-secondary" @click="toggleExpandMedellin">
                  {{ isExpandedMedellin ? 'Contraer mapa' : 'Expandir mapa' }}
                </button>
              </div>
              <div class="map-wrapper">
                <l-map v-if="mapReadyMedellin" :zoom="zoomMedellin" :center="centerMedellin">
                  <l-tile-layer
                    url="https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"
                    layer-type="base"
                    name="OpenStreetMap"
                  ></l-tile-layer>
                  
                  <l-polygon 
                    v-for="comuna in comunasMedellin"
                    :key="comuna.nombre"
                    :lat-lngs="comuna.coordenadas"
                    :color="comuna.color"
                    :fill-color="comuna.color"
                    :fill-opacity="0.3"
                    :weight="2"
                  >
                    <l-tooltip :options="{ permanent: true, direction: 'center' }" v-if="showPricesMedellin">
                      <div>
                        <strong>{{ comuna.nombre }}</strong><br>
                        ${{ comuna.precioDomicilio.toLocaleString() }}
                      </div>
                    </l-tooltip>
                  </l-polygon>
                </l-map>
              </div>
            </div>
          </div>
        </div>
      </div>
      
      <div class="col-md-6 mb-4">
        <div class="card">
          <div class="card-header bg-success text-white">
            <h5 class="mb-0">Envíos Montería y sus alrededores</h5>
          </div>
          <div class="card-body">
            <div class="map-container" :class="{ 'expanded': isExpandedMonteria }">
              <div class="map-controls mb-2">
                <button class="btn btn-sm btn-outline-success mr-2" @click="togglePricesMonteria">
                  {{ showPricesMonteria ? 'Ocultar precios' : 'Mostrar precios' }}
                </button>
                <button class="btn btn-sm btn-outline-secondary" @click="toggleExpandMonteria">
                  {{ isExpandedMonteria ? 'Contraer mapa' : 'Expandir mapa' }}
                </button>
              </div>
              <div class="map-wrapper">
                <l-map v-if="mapReadyMonteria" :zoom="zoomMonteria" :center="centerMonteria">
                  <l-tile-layer
                    url="https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"
                    layer-type="base"
                    name="OpenStreetMap"
                  ></l-tile-layer>
                  
                  <l-polygon
                    v-for="comuna in comunasMonteria"
                    :key="comuna.nombre"
                    :lat-lngs="comuna.coordenadas"
                    :color="comuna.color"
                  >
                    <l-tooltip v-if="showPricesMonteria" :content="'$' + comuna.precioDomicilio.toLocaleString()" :options="{ permanent: true, direction: 'center' }"/>
                  </l-polygon>
                </l-map>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</template>

<style scoped>
.map-container {
  position: relative;
  height: 400px;
  transition: height 0.3s ease;
}

.map-container.expanded {
  height: 600px;
}

.map-wrapper {
  height: 100%;
}

.map-controls {
  position: absolute;
  top: 10px;
  right: 10px;
  z-index: 1000;
}

.btn {
  margin-right: 5px;
}

.map-controls button {
  margin-left: 10px;
  padding: 5px 10px;
  background-color: white;
  border: 1px solid #ccc;
  border-radius: 5px;
  cursor: pointer;
}

.map-wrapper {
  height: 100%;
}

@import 'leaflet/dist/leaflet.css';

.leaflet-tooltip {
  background-color: rgba(255, 255, 255, 0.8);
  border: none;
  box-shadow: 0 1px 3px rgba(0,0,0,0.4);
  padding: 5px;
  font-family: Arial, sans-serif;
  font-size: 12px;
  text-align: center;
}

.leaflet-tooltip-top:before,
.leaflet-tooltip-bottom:before,
.leaflet-tooltip-left:before,
.leaflet-tooltip-right:before {
  border: none;
}
</style>